# CensusChat Environment Configuration
# =====================================
# SETUP INSTRUCTIONS FOR FORKERS:
# 1. Copy this file: cp .env.example .env (in backend/ directory)
# 2. Get API keys - see API_KEY_SETUP.md for detailed instructions
# 3. Replace placeholder values below with your actual keys
# 4. NEVER commit .env file to git!
# =====================================

# Environment
NODE_ENV=development

# Server Configuration
PORT=3001
CORS_ORIGIN=http://localhost:3000,http://localhost:3003

# Security - JWT Configuration
# IMPORTANT: Generate secure secrets for production!
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_USE_STRONG_SECRET_MIN_32_CHARS_FOR_DEV_64_FOR_PROD
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Database - PostgreSQL
# For production, use strong passwords (min 16 chars)
# Generate with: openssl rand -base64 32
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=censuschat
POSTGRES_USER=censuschat_user
POSTGRES_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD_MIN_16_CHARS
POSTGRES_SSL=false

# Cache - Redis
# For production, always use a password
# Generate with: openssl rand -base64 32
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Analytics - DuckDB
DUCKDB_PATH=./data/census.duckdb
DUCKDB_MEMORY=false

# DuckDB Connection Pool (Epic 2.1) - Production Settings
# Enable production DuckDB connection pooling (set to true when ready)
USE_PRODUCTION_DUCKDB=false
DUCKDB_MIN_CONNECTIONS=2
DUCKDB_MAX_CONNECTIONS=10
DUCKDB_MEMORY_LIMIT=4GB
DUCKDB_THREADS=4

# =====================================
# REQUIRED: API KEYS
# =====================================
# Get your FREE API keys from:
# 1. Anthropic ($5 free credit): https://console.anthropic.com/settings/keys
# 2. Census (100% free): https://api.census.gov/data/key_signup.html
#
# See detailed setup guide: API_KEY_SETUP.md
# =====================================

# Census Bureau API
CENSUS_API_URL=https://api.census.gov
CENSUS_API_KEY=your-40-character-census-key-here

# Anthropic Claude API (for natural language processing)
ANTHROPIC_API_KEY=sk-ant-api03-YOUR-KEY-HERE

# MCP (Model Context Protocol) Integration (Epic 2.2)
# Enable MCP server for healthcare analytics tools
ENABLE_MCP_SERVER=true
MCP_SERVER_PORT=3002
MCP_SERVER_NAME=censuschat-healthcare-analytics

# MCP Circuit Breaker Settings
MCP_CIRCUIT_BREAKER_THRESHOLD=5
MCP_CIRCUIT_BREAKER_TIMEOUT=30000
MCP_CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1

# Optional Tools (for docker-compose --profile tools)
# Only needed if using pgAdmin
PGADMIN_EMAIL=admin@localhost
PGADMIN_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# =====================================
# Security Best Practices:
#
# 1. JWT_SECRET:
#    - Development: Minimum 32 characters
#    - Production: Minimum 64 characters
#    - Use cryptographically secure random generator
#
# 2. Database Passwords:
#    - Never use default passwords
#    - Minimum 16 characters for production
#    - Use mix of letters, numbers, and symbols
#
# 3. Redis Password:
#    - Always set in production
#    - Leave empty only for local development
#
# 4. SSL/TLS:
#    - Enable POSTGRES_SSL=true in production
#    - Use HTTPS for all production URLs
#
# 5. CORS:
#    - Restrict CORS_ORIGIN to specific domains
#    - Never use * in production
#
# 6. Epic 2 Production Settings:
#    - Set USE_PRODUCTION_DUCKDB=true when ready for production pooling
#    - Adjust DUCKDB_MAX_CONNECTIONS based on expected load
#    - Enable ENABLE_MCP_SERVER=true for healthcare analytics tools
#    - Monitor MCP circuit breaker settings in production
# =====================================